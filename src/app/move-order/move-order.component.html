<app-topbar></app-topbar>

<div id="opti_WrapperID">
    <div id="opti_MoveOrderID">
        <section id="opti_MainContentID" class="opti_account-submodule-wrapper opti_position-relative">
            <!-- banner section -->
            <div class="float-left opti_account-banner-section">
                    <img class="opti_mo_login-banner" [src] = "loginBackground">
            </div>

            <!-- form section -->
            <div class="float-right opti_account-form-section">
                <div class="opti_outer-moveorder-form opti_account-submodule-container"> 
                    <div class="opti_vertcal-align-outer-box">
                        <div class="panel-body opti_position-relative" [perfectScrollbar]="">

                            <!-- loader start -->
                            <div class="opti_loader" *ngIf="showLoader">
                                <div class="opti_spinner"></div>
                            </div>
                            <!-- loader end -->


                            <form class="k-form">
                                <div class="text-center">
                                    <h5>{{language.moveorder}}</h5>
                                </div>

                                <label class="k-form-field d-flex align-item-center flex-wrap">
                                    <span class="opti_form-label"><span class="opti_mouse-pointer opti_primary-color" (click)="onWorkOrderDetail(true,WorkOrderImageStatus)">{{language.workorder}} *</span> <span *ngIf="InvalidWorkOrder"  class="float-right opti_error-msg"> {{language.workorder_invalid}} </span></span>
                                    <span class="float-left opti_work-order">
                                        <!--Commented (change)="onWorkOrderChange()" by Sheetal-->
                                        <input type="text" id="psWONOid"  (blur)="onWorkOrderBlur()" required #WorkOrderBlank name="psWONO" requir class="k-textbox" [(ngModel)]="psWONO">                                     
                            
                                    </span> 
                                    <span class="opti_workorder-icon d-flex align-items-center flex-wrap">
                                        <img src="assets/images/common/list.svg" title="{{language.workorder_title}}" class="opti_mouse-pointer" (click)="onWOPress(true)" alt="work order" width="27px" height="27px" />
                                        <img src="assets/images/common/scanner.svg" title="{{language.workorder_scan}}" id="workOrderScan" class="opti_mouse-pointer" width="27px" height="27px" />
                                    </span>
                                  
                                </label>
                                
                               
                                <label class="k-form-field">
                                    <span class="opti_form-label">{{language.productcode}}</span>
                                    <input type="text" class="k-textbox" id="txtProductCode" [value]="psProductCode" [disabled]=true>
                                    
                                </label>

                                <label class="k-form-field">
                                    <span class="opti_form-label">{{language.productdescription}}</span>
                                    <input type="text" class="k-textbox" id="txtProductDesc" [value]="psProductDesc" [disabled]=true>
                                </label>

                                <label class="k-form-field d-flex align-item-center flex-wrap">
                                    <span class="opti_form-label"><span class="opti_mouse-pointer opti_primary-color" (click)="onOperDtlPress(true,OperationDetailImageStatus)">{{language.operationnumber}} *</span> <span *ngIf="InvalidOperation"  class="float-right opti_error-msg"> {{language.operation_invalid}} </span>
                                    <span *ngIf="NoOperAvailable"  class="float-right opti_error-msg"> No operations available </span>
                                </span>
                                    <span class="float-left opti_operation">
                                        <input type="text" class="k-textbox" [(ngModel)]="psOperNO" id="psOperNOid" name="psOperNO" (blur)="onOperationNoBlur()" [disabled]=DisableEnablOperation>
                                    </span>
                                    <span class="opti_operation-icon d-flex align-items-center flex-wrap">
                                        <img src="assets/images/common/list.svg" title="{{language.operation_title}}" class="opti_mouse-pointer" (click)="onOperationPress(true,GetOperationImageStatus)" alt="work order" width="27px" height="27px"  />
                                        <!-- <img src="assets/images/common/detail.svg" title="Operation Detail" class="opti_mouse-pointer" (click)="onOperDtlPress(true,OperationDetailImageStatus)" alt="work order setaiol" width="27px" height="27px" style="margin-right: 5px;"/> -->
                                        <img src="assets/images/common/scanner.svg" title="{{language.workorder_scan}}" id="operationNumberScan" class="opti_mouse-pointer" width="27px" height="27px" />
                                    </span>
                                </label>
                                
                            
                                <label class="k-form-field d-flex align-item-center flex-wrap">
                                    <span class="opti_form-label">{{language.qtyproduced}} *</span>
                                    <span class="float-left opti_qty-produced">
                                        <input type="text" style="text-align: right;"  class="k-textbox" id="QtyProducedID" name = "QtyProducedName" [(ngModel)]="iProducedQty" [disabled]=DisableEnablQuantity (blur)="onProducedQtyBlur()">
                                    </span>
                                    <span class="opti_qty-operation-icon d-flex align-items-center flex-wrap">
                                        <img src="assets/images/common/list.svg" title="{{language.quantity}}" class="opti_mouse-pointer" (click)="onQtyProdBtnPress(QuantityImageStatus)" alt="Quantity" width="27px" height="27px" />
                                    </span>
                                </label>

                                <label class="k-form-field opti_date-start-end">
                                        <span class="opti_form-label">{{language.startdatetime}} * </span>
                                        <input [owlDateTimeTrigger]="dt12" [owlDateTime]="dt12"
                                            [(ngModel)]="FrmToDateTime"
                                            [selectMode]="'rangeFrom'" name="selectedMoments" type="text" class="k-textbox" [(ngModel)]="startDateTime" >
                                        <owl-date-time #dt12></owl-date-time>

                                        <!-- <span class="float-left opti_date">
                                            <input [owlDateTimeTrigger]="dt12" placeholder="StartDate" [owlDateTime]="dt12"
                                            [selectMode]="'rangeFrom'" name="selectedMoments" type="text" class="k-textbox"  [(ngModel)]="FrmToDateTime" [max]="maxDateRestriction" readonly />
                                            <span *ngIf="invalidStartDate" class="float-right opti_error-msg"> Select Start Date </span>
                                            <owl-date-time #dt12></owl-date-time>
                                        </span> -->

                                        <!-- <span class="opti_date-icon float-right">
                                            <img src="assets/images/common/start-date.svg" title="Start Date" class="opti_mouse-pointer" alt="Quantity" width="24px" height="27px" (click)="setCurrentServerDate('startDate')"/>
                                        </span> -->

                                </label>
                                

                                <label class="k-form-field opti_date-start-end">
                                        <span class="opti_form-label">{{language.enddatetime}} * </span>
                                        <input [owlDateTimeTrigger]="dt13" [owlDateTime]="dt13"
                                            [(ngModel)]="FrmToDateTime"
                                            [selectMode]="'rangeTo'" name="selectedMoments" type="text" class="k-textbox" [(ngModel)]="endDateTime">
                                        <owl-date-time #dt13></owl-date-time> 

                                        <!-- <span class="float-left opti_date">
                                            <input [owlDateTimeTrigger]="dt13" placeholder="End Date" [owlDateTime]="dt13"
                                            [selectMode]="'rangeTo'" name="selectedMoments" type="text" class="k-textbox" [(ngModel)]="FrmToDateTime" [max]="maxDateRestriction" readonly />
                                            <span *ngIf="invalidEndDate" class="float-right opti_error-msg"> Select End Date </span>
                                            <owl-date-time #dt13></owl-date-time>
                                        </span> -->

                                        <!-- <span class="opti_date-icon float-right">
                                            <img src="assets/images/common/end-date.svg" title="End Date" class="opti_mouse-pointer" alt="Quantity" width="24px" height="27px" (click)="setCurrentServerDate('endDate')"/>
                                        </span> -->
                                        
                                </label>
                                

                                <button align="center" type="button" align="middle" class="opti_full-width opti_margin-zero opti_fullwidth" (click)="onSubmitPress()">{{language.submit}}</button>
                            </form>
                        </div>    
                    </div>    
                </div>
            </div>

            <!-- right sidebar section -->
            <div #optirightfixedsection id="opti_rightfixedsectionID" class="opti_right-fix-section opti_position-relative" [perfectScrollbar]="" [ngStyle]="{'display':isFixedRightSection == true ? 'block' : 'none' }">
                <div class="container-fluid"> 
                    <div class="row">
                        <div class="col-md-12">
                            <img *ngIf="!isQuantityRightSection" src="assets/images/common/back-opposite.svg" (click)="closeRightSection(false)" class="opti_mouse-pointer float-right opti_vertical-align opti_close-icon-right-section" width="20px" height="20px" />
                            
                            <!-- Quantity Screen start -->
                            <div id="opti_QuantityRightSection" [ngStyle]="{'display':isQuantityRightSection == true ? 'block' : 'none' }">
                                <h5 class="modal-title center-block">{{ScreenName}}</h5>
                                <app-qty-without-fgscan (messageEvent)="recieveChildSAPSetFormData($event)" [basicDetailsFrmMO]="basicDetails" *ngIf="showQtyNoScanScreen"></app-qty-without-fgscan> 
                                <app-qty-with-fgscan (messageEvent)="recieveChildSAPSetFormData($event)" [basicDetailsFrmMO]="basicDetails" *ngIf="showQtyWithFGScanScreen"></app-qty-with-fgscan>
                                <app-fgrmscanparent (messageEvent)="recieveChildSAPSetFormData($event)" [basicDetailsFrmMO]="basicDetails" *ngIf="showQtyWithFGRMScanScreen"></app-fgrmscanparent>
                            </div>    
                            <!-- Quantity Screen end -->

                            <!-- Operation Detail start -->
                            <div id="opti_OperationRightSection" [ngStyle]="{'display':isOperationRightSection == true ? 'block' : 'none' }">
                                <h5>Operation Details</h5>
                                <app-operational-detail [woOperDetail]="selectedWOOperDetail" *ngIf=showOperDtPopup></app-operational-detail>
                            </div>
                            <!-- Operation Detail end -->

                            <!-- Operation List start -->
                            <div id="opti_OperationListRightSection" [ngStyle]="{'display':isOperationListRightSection == true ? 'block' : 'none' }">
                                <h5>Operation List</h5>
                                <div class="" id="opti_OperationListID" style="margin-top: 20px;">
                                    <div class="container-fluid opti_padding-zero">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <!-- paste here shortcode lookup-->
                                                <!-- (messageEvent)="receiveLookupRowData($event)" -->
                                                <!-- <app-operation-lookup  *ngIf="showOperLookup"></app-operation-lookup> -->
                                                <!-- <app-lookup  *ngIf="showOperLookup" [columnToShow] ="columnsToShow" [parent]="parent" [fillLookupArray]="lookupData" [height]="gridHeight-52"></app-lookup> -->
                                                <app-operation-lookup  *ngIf="showOperLookup"    [fillLookupArray]="oprLookupData"  [height]="gridHeight-52"></app-operation-lookup>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Operation List end -->

                            <!-- Work order detail start -->
                            <div id="opti_WorkOrderRightSection" [ngStyle]="{'display':isWorkOrderRightSection == true ? 'block' : 'none' }">
                                <!-- loader start -->
                                <!-- <div class="opti_loader">
                                    <div class="opti_spinner"></div>
                                </div> -->
                                <!-- loader end -->
                                <h5 class="">{{language.workorderdetails}}</h5>
                                <app-work-order-detail [workOrderDetail]="selectedWODetail" *ngIf="showWODtPopup"></app-work-order-detail>
                            </div>
                            <!-- work order detail end -->

                            <!-- Work order List start -->
                            <div id="opti_WorkOrderListRightSection" [ngStyle]="{'display':isWorkOrderListRightSection == true ? 'block' : 'none' }">

                                <!-- loader start -->
                                    <!-- <div class="opti_loader">
                                        <div class="opti_spinner"></div>
                                    </div> -->
                                <!-- loader end -->

                                <h5 class="">{{language.workorderlookuplist}}</h5>
                                <div class="" id="opti_workOrderListID" style="margin-top: 20px;">
                                    <div class="container-fluid opti_padding-zero">
                                        <div class="row">
                                        <div class="col-md-12">
                                            <!-- paste here shortcode lookup-->
                                                    <!-- (messageEvent)="receiveLookupRowData($event)" -->

                                        <app-work-order-lookup  *ngIf="showWOLookup"    [fillLookupArray]="WoLookupData"  [height]="gridHeight-52"></app-work-order-lookup>
                                            <!-- <app-lookup  *ngIf="showWOLookup" [columnToShow] ="columnsToShow" [fillLookupArray]="lookupData" [parent]="parent" [height]="gridHeight-52"></app-lookup> -->
                                          
                                        </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- work order List end -->
                        </div>    
                    </div>    
                </div>    
            </div>
        </section>
    </div>
</div>




























